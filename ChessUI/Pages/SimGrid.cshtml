@page
@model ChessUI.SimGridModel
@{
    ViewData["Title"] = "Symulacja";
}



<div class="board-container" id="chessboard">
    <table class="simulation-grid">
        @for (int r = 0; r < 8; r++)
        {
            <tr>
                <div class="row">
                    @for (int c = 0; c < 8; c++)
                    {
                        <td>
                            <div class="cell" data-row="@r" data-col="@c">
                                @if (!string.IsNullOrEmpty(Model.pieceImages[r, c]))
                                {
                                    <img src="@Model.pieceImages[r, c]" class="piece" />
                                }
                                @if (Model.highlights[r, c])
                                {
                                    <div class="highlight"></div>
                                }
                            </div>
                        </td>
                    }
                </div>
            </tr>
        }
    </table>
</div>

<style>
    .board-container {
        width: 600px;
        height: 600px;
        display: grid;
        grid-template-rows: repeat(8, 1fr);
        grid-template-columns: repeat(8, 1fr);
        background: url('/Assets/Board.png') no-repeat center center;
        background-size: cover;
    }
    
    .row {
        display: contents;
    }

    .cell {
        position: relative;
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .piece {
        width: 100%;
        height: 90%;
        pointer-events: none;
    }

    .highlight {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(125, 255, 125, 0.6);
    }

    .simulation-grid {
        
        margin: 20px auto;
        /*    width: 80%;*/
    }

    .simulation-grid td {
        width: fit-content;
        height: fit-content;
        text-align: center;
        vertical-align: middle;
        border: 1px solid #142d4c;
        font-weight: bold;
        font-size: 18px;
        
    }
</style>